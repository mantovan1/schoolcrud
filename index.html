<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Lista de Alunos </title>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src ="ajax.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>

<body>

    <div class = "container-fluid">   
       
      <h1> ALUNOS </h1>

      <input type= "text" name = "search" id = "search" class = "form-control" oninput="searchData()">

      <div class = "row">

        <div class = "col-md-auto">

          <!-- Button trigger modal -->
          <button type="button" class="btn btn-success mt-2" data-toggle="modal" data-target="#modal_save"> Adicionar + </button>

        </div>

        <div class="col-md-auto">

          <button type="button" class="btn btn-primary mt-2" onclick="searchData()"> Pesquisar </button>

        </div>

      </div>

    </div>
  
  <!-- Modal Save-->
  <div class="modal fade" id="modal_save" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Adicionar Aluno</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
            <label>Nome: </label>
            <input type = "text" id = "name" class = "form-control">
            <label>Nascimento: </label>
            <input type = "date" id = "birth" class = "form-control">
            <label>Curso: </label>
            <input type = "text" id = "career" class = "form-control">

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
          <button type="button" class="btn btn-success" onclick="saveData()" data-dismiss = "modal">Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Update-->
  <div class="modal fade" id="modal_update" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">

    <script type="text/JavaScript">

    $('#modal_update').on("show.bs.modal" ,function(event){

      var button = $(event.relatedTarget);
      var id = button.data("id");
      var name = button.data("name");
      var birth = button.data("birth");
      var career = button.data("career");

      var modal = $(this);

      modal.find("#update").val(id);
      modal.find("#nameU").val(name);
      modal.find("#birthU").val(birth);
      modal.find("#careerU").val(career);

    })
    
    </script>

    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Atualizar Aluno</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
            <lable>ID: </lable>
            <input type = "number" id = "update" class = "form-control">
            <label>Nome: </label>
            <input type = "text" id = "nameU" class = "form-control">
            <label>Nascimento: </label>
            <input type = "date" id = "birthU" class = "form-control">
            <label>Curso: </label>
            <input type = "text" id = "careerU" class = "form-control">

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
          <button type="button" class="btn btn-success" onclick="updateData()" data-dismiss = "modal">Alterar</button>
        </div>
      </div>
    </div>
  </div>

  <div id = "data">

  </div>
    
</body>

</html>